<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Œó ŒúŒ¨œáŒ∑ œÑŒ∑œÇ Œ†œÅŒøŒ∫Œ±œÑŒ±Œ≤ŒøŒªŒÆœÇ</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    body {
      background-color: #1a1a1a;
      color: #fff;
      font-family: 'Press Start 2P', monospace;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background-image: url('https://img.pikbest.com/backgrounds/20200528/retro-game-scene-pixel-art-8-bit-sci-fi-background--v_1772538jpg!w700wp');
      background-size: cover;
      background-position: center;
      box-sizing: border-box;
    }
    .dialogue-box {
      background-color: #000066;
      border: 4px solid #ff66cc;
      padding: 16px;
      width: 90vw;
      max-width: 700px;
      box-shadow: 0 0 20px #000;
      box-sizing: border-box;
      transition: opacity 0.5s ease;
    }
    .dialogue-content {
      display: flex;
      align-items: flex-start;
      gap: 16px;
    }
    .dialogue-text {
      font-size: 12px;
      line-height: 1.6;
      margin-bottom: 16px;
      flex: 1;
    }
    .option {
      background-color: #0033cc;
      border: 2px solid #ffcc00;
      padding: 10px;
      margin: 6px 0;
      cursor: pointer;
      color: #fff;
      font-size: 10px;
      text-align: center;
      transition: background-color 0.3s;
    }
    .option:hover {
      background-color: #0044ff;
    }
    h1 {
      text-align: center;
      color: #ffcc00;
      font-size: 14px;
      margin-bottom: 16px;
    }
    img {
      width: 150px;
      height: auto;
      border: 4px solid #fff;
      transition: opacity 0.5s ease;
      object-fit: contain;
    }
    .sword-image {
      max-height: 100px;
    }
    .attribution {
      font-size: 8px;
      color: #ccc;
      text-align: center;
      margin-top: 10px;
    }
    @media (max-width: 600px) {
      .dialogue-content {
        flex-direction: column;
        align-items: center;
      }
      .dialogue-text {
        font-size: 12px;
      }
      .option {
        font-size: 10px;
      }
      h1 {
        font-size: 14px;
      }
      img {
        width: 120px;
      }
      .sword-image {
        max-height: 80px;
      }
    }
    @media (min-width: 601px) {
      .dialogue-text {
        font-size: 14px;
      }
      .option {
        font-size: 12px;
      }
      h1 {
        font-size: 16px;
      }
    }
    .fade-out {
      opacity: 0;
    }
    .fade-in {
      opacity: 1;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
  <audio id="click-sound" src="click.mp3"></audio>
  <audio id="fail-sound" src="fail.mp3"></audio>
  <div class="dialogue-box fade-in" id="dialogue-box">
    <h1>üßô‚Äç‚ôÇÔ∏è Œó ŒúŒ¨œáŒ∑ œÑŒ∑œÇ Œ†œÅŒøŒ∫Œ±œÑŒ±Œ≤ŒøŒªŒÆœÇ</h1>
    <div class="dialogue-content">
      <img id="scene-image" src="https://opengameart.org/sites/default/files/wizard.png" alt="Œü ŒöœéœÉœÑŒ±œÇ Œø ŒúŒ¨Œ≥ŒøœÇ">
      <div class="dialogue-text" id="dialogue-text"></div>
    </div>
    <div id="options"></div>
  </div>
  <div class="attribution">
    Image: <a href="https://pikbest.com/backgrounds/20200528/retro-game-scene-pixel-art-8-bit-sci-fi-background_1772538.html" target="_blank">pikbest.com</a>
  </div>

  <script>
    const clickSound = document.getElementById("click-sound");
    const failSound = document.getElementById("fail-sound");
    const dialogueBox = document.getElementById("dialogue-box");
    const dialogueText = document.getElementById("dialogue-text");
    const sceneImage = document.getElementById("scene-image");
    const optionsContainer = document.getElementById("options");

    const scenes = [
      {
        text: "Œ© ŒúŒ≠Œ≥Œ± ŒëŒªŒ≠ŒæŒ±ŒΩŒ¥œÅŒµ, ŒºŒÆœÄœâœÇ ŒΩŒ± ŒºŒøœÖ Œ≠Œ¥ŒπŒΩŒµœÇ <strong>500‚Ç¨</strong> ŒΩœâœÅŒØœÑŒµœÅŒ±; Œ©œÇ ŒºŒµŒ≥Œ¨ŒªŒøœÇ Œ±Œ¥ŒµœÅœÜœåœÇ, ŒæŒ≠œÅŒµŒπœÇ œåœÑŒπ œÑŒ± ŒªŒµœÜœÑŒ¨ ŒºŒøœÖ œÄŒ¨ŒΩŒµ œÉŒµ... œÉŒøœÜŒ≠œÇ ŒµœÄŒµŒΩŒ¥œçœÉŒµŒπœÇ! üòé",
        image: "https://opengameart.org/sites/default/files/wizard.png",
        options: [
          { text: "‚ñ∂ ŒîœéœÉŒµ œÑŒ∑ŒΩ œÄœÅŒøŒ∫Œ±œÑŒ±Œ≤ŒøŒªŒÆ", nextScene: 1, sound: "click" },
          { text: "ŒîœéœÉŒµ 250‚Ç¨", nextScene: 2, sound: "fail" },
          { text: "ŒëœÅŒΩŒÆœÉŒøœÖ Œ∫Œ±Œπ Œ±œÄŒøŒ¥Œ≠ŒæŒøœÖ œÑŒ∑ ŒºŒøŒØœÅŒ± œÉŒøœÖ", nextScene: 3, sound: "fail" },
        ],
      },
      {
        text: "Œü ŒëŒªŒ≠ŒæŒ±ŒΩŒ¥œÅŒøœÇ Œ≠Œ¥œâœÉŒµ œÑŒ∑ŒΩ œÄœÅŒøŒ∫Œ±œÑŒ±Œ≤ŒøŒªŒÆ Œ∫Œ±Œπ œÑŒø Œ≤Œ±œÉŒØŒªŒµŒπŒø œÄŒ±ŒΩŒ∑Œ≥œÖœÅŒØŒ∂ŒµŒπ! üéâ Œü ŒöœéœÉœÑŒ±œÇ œÖœÄœåœÉœáŒµœÑŒ±Œπ ŒΩŒ± œÉŒøœÖ œÄŒµŒπ œÑŒ∑ŒΩ Œ∫Œ±ŒªœçœÑŒµœÅŒ∑ ŒπœÉœÑŒøœÅŒØŒ± ŒºŒµ ŒÆœÅœâŒ± œÑŒøŒΩ ŒëŒºœÄŒªŒπŒ±ŒΩŒØœÑŒ∑! üòÑ",
        image: "https://opengameart.org/sites/default/files/coins.png",
        options: [
          { text: "ŒÜŒΩœÑŒµ, œÄŒµœÇ œÑŒ∑ŒΩ ŒπœÉœÑŒøœÅŒØŒ±!", nextScene: 4, sound: "click" },
          { text: "ŒûŒµŒ∫ŒØŒΩŒ± ŒûŒ±ŒΩŒ¨", nextScene: 0, sound: "fail" },
        ],
      },
      {
        text: "Œü ŒëŒªŒ≠ŒæŒ±ŒΩŒ¥œÅŒøœÇ Œ≠Œ¥œâœÉŒµ œÑŒ± ŒºŒπœÉŒ¨. Œü ŒöœéœÉœÑŒ±œÇ Œ¥Œ≠œáŒµœÑŒ±Œπ... œÄœÅŒøœÉœâœÅŒπŒΩŒ¨. ü§î ¬´Œ§Œ± Œ¨ŒªŒªŒ± 250‚Ç¨ œÄœåœÑŒµ Œ∏Œ± œÑŒ± Œ¥œâ;¬ª",
        image: "https://opengameart.org/sites/default/files/sword.png",
        imageClass: "sword-image",
        options: [
          { text: "ŒîœéœÉŒµ Œ∫Œ±Œπ œÑŒ± œÖœÄœåŒªŒøŒπœÄŒ± œÑœéœÅŒ±!", nextScene: 1, sound: "click" },
          { text: "Œ†ŒµœÅŒØŒºŒµŒΩŒµ ŒºŒ≠œáœÅŒπ œÑŒø œÑŒ≠ŒªŒøœÇ œÑŒøœÖ ŒºŒÆŒΩŒ±", nextScene: 5, sound: "fail" },
          { text: "ŒûŒµŒ∫ŒØŒΩŒ± ŒûŒ±ŒΩŒ¨", nextScene: 0, sound: "fail" },
        ],
      },
      {
        text: "Œó Œ¨œÅŒΩŒ∑œÉŒ∑ œÜŒ≠œÅŒΩŒµŒπ œÉŒ∫ŒøœÑŒµŒπŒΩŒ≠œÇ ŒºŒ≠œÅŒµœÇ... üò¢ Œü ŒöœéœÉœÑŒ±œÇ, œâœÇ œÉŒøœÜœåœÇ ŒºŒµŒ≥Œ¨ŒªŒøœÇ Œ±Œ¥ŒµœÅœÜœåœÇ, œÉŒøœÖ Œ¥ŒØŒΩŒµŒπ Œ¨ŒªŒªŒ∑ ŒºŒπŒ± ŒµœÖŒ∫Œ±ŒπœÅŒØŒ±. ¬´ŒõŒøŒπœÄœåŒΩ, ŒëŒªŒ≠ŒæŒ±ŒΩŒ¥œÅŒµ, Œ∏Œ± Œ¥œéœÉŒµŒπœÇ œÑŒ± 500‚Ç¨ ŒÆ Œ∏Œ± œÜŒ¨ŒºŒµ œÄŒØœÑœÉŒµœÇ ŒºŒµ Œ¥Œ±ŒΩŒµŒπŒ∫Œ¨;¬ª",
        image: "https://opengameart.org/sites/default/files/fireball.png",
        options: [
          { text: "ŒïŒΩœÑŒ¨ŒæŒµŒπ, Œ¥ŒØŒΩœâ œÑŒ± 500‚Ç¨", nextScene: 1, sound: "click" },
          { text: "Œ†ŒØœÑœÉŒµœÇ ŒºŒµ Œ¥Œ±ŒΩŒµŒπŒ∫Œ¨!", nextScene: 6, sound: "fail" },
          { text: "ŒûŒµŒ∫ŒØŒΩŒ± ŒûŒ±ŒΩŒ¨", nextScene: 0, sound: "fail" },
        ],
      },
      {
        text: "¬´ŒúŒπŒ± œÜŒøœÅŒ¨ Œ∫Œπ Œ≠ŒΩŒ±ŒΩ Œ∫Œ±ŒπœÅœå, Œø ŒëŒºœÄŒªŒπŒ±ŒΩŒØœÑŒ∑œÇ ŒµŒØœáŒµ Œ≠œÅŒ∏ŒµŒπ Œ±œÄœå œÑŒø œÉœÄŒØœÑŒπ Œ∫Œ±Œπ Œ∂œÖŒ≥ŒπœÉœÑŒÆŒ∫Œ±ŒºŒµ. Œ†Œ±œÅœåœÑŒπ ŒµŒØŒ¥Œµ œåœÑŒπ ŒµŒØŒΩŒ±Œπ 15 Œ∫ŒπŒªŒ¨ œÄŒπŒø Œ≤Œ±œÅœçœÇ, Œ≠œÜŒ±Œ≥Œµ Œ≥Œ±œÅŒπŒ¥Œ¨Œ∫ŒπŒ± ŒºŒµ Œ≥ŒπŒ±ŒøœçœÅœÑŒπ! ŒöŒπ Œ≠Œ∂Œ∑œÉŒ± ŒµŒ≥œé Œ∫Œ±ŒªŒ¨, Œ±œÖœÑœåœÇ Œ¥ŒµŒΩ ŒæŒ≠œÅœâ. The end¬ª üòé",
        image: "https://opengameart.org/sites/default/files/pizza.png",
        options: [
          { text: "ŒûŒµŒ∫ŒØŒΩŒ± ŒûŒ±ŒΩŒ¨", nextScene: 0, sound: "fail" },
        ],
      },
      {
        text: "¬´Œ©œÅŒ±ŒØŒ±, Œ∏Œ± œÄŒµœÅŒπŒºŒ≠ŒΩœâ œÑŒ± œÖœÄœåŒªŒøŒπœÄŒ± 1250‚Ç¨ œÉœÑŒø œÑŒ≠ŒªŒøœÇ œÑŒøœÖ ŒºŒÆŒΩŒ±, œåœÄœâœÇ ŒµŒØœÄŒµœÇ! üòá¬ª Œü ŒöœéœÉœÑŒ±œÇ œáŒ±ŒºŒøŒ≥ŒµŒªŒ¨ œÄŒøŒΩŒ∑œÅŒ¨. Œ§Œ≠ŒªŒøœÇ... Œ≥ŒπŒ± œÑœéœÅŒ±!",
        image: "https://opengameart.org/sites/default/files/sword.png",
        imageClass: "sword-image",
        options: [
          { text: "ŒûŒµŒ∫ŒØŒΩŒ± ŒûŒ±ŒΩŒ¨", nextScene: 0, sound: "fail" },
        ],
      },
      {
        text: "¬´ŒìŒ§ŒßŒ£ŒöŒ§Œ†Œ£! Œ§Œ± 500‚Ç¨ œÄœåœÑŒµ Œ∏Œ± œÑŒ± Œ¥œâ;¬ª Œü ŒöœéœÉœÑŒ±œÇ Œ≥ŒµŒªŒ¨ŒµŒπ, Œ±ŒªŒªŒ¨ œÄŒµœÅŒπŒºŒ≠ŒΩŒµŒπ Œ±œÄŒ¨ŒΩœÑŒ∑œÉŒ∑!",
        image: "https://opengameart.org/sites/default/files/pizza.png",
        options: [
          { text: "ŒïŒΩœÑŒ¨ŒæŒµŒπ, Œ¥ŒØŒΩœâ œÑŒ± 500‚Ç¨", nextScene: 1, sound: "click" },
          { text: "ŒûŒµŒ∫ŒØŒΩŒ± ŒûŒ±ŒΩŒ¨", nextScene: 0, sound: "fail" },
        ],
      },
    ];

    let currentScene = 0;

    function playSound(audio) {
      audio.load(); // Preload to avoid autoplay issues
      audio.currentTime = 0; // Reset to start
      audio.play().catch((err) => {
        console.warn(`Failed to play sound: ${audio.src}`, err.message);
      });
    }

    function renderScene(sceneIndex) {
      const scene = scenes[sceneIndex];
      dialogueBox.classList.add("fade-out");
      sceneImage.classList.add("fade-out");

      setTimeout(() => {
        dialogueText.innerHTML = scene.text;
        sceneImage.src = scene.image;
        sceneImage.className = scene.imageClass || "";
        console.log(`Loading image for scene ${sceneIndex}: ${scene.image}`);
        sceneImage.onerror = () => {
          console.error(`Failed to load image: ${scene.image}`);
          sceneImage.src = "https://opengameart.org/sites/default/files/wizard.png";
          sceneImage.className = "";
        };
        optionsContainer.innerHTML = "";
        scene.options.forEach((opt) => {
          const optionDiv = document.createElement("div");
          optionDiv.className = "option";
          optionDiv.textContent = opt.text;
          optionDiv.onclick = () => {
            if (opt.sound === "click") {
              playSound(clickSound);
            } else {
              playSound(failSound);
            }
            nextScene(opt.nextScene);
          };
          optionsContainer.appendChild(optionDiv);
        });
        dialogueBox.classList.remove("fade-out");
        dialogueBox.classList.add("fade-in");
        sceneImage.classList.remove("fade-out");
        sceneImage.classList.add("fade-in");
      }, 500);
    }

    function nextScene(sceneIndex) {
      currentScene = sceneIndex;
      renderScene(currentScene);
    }

    // Preload images
    scenes.forEach((scene) => {
      const img = new Image();
      img.src = scene.image;
      img.onerror = () => console.warn(`Preload failed for image: ${scene.image}`);
    });

    // Preload audio
    clickSound.load();
    failSound.load();

    renderScene(currentScene);
  </script>
</body>
</html>